import{u as y,r as b,A as w,a as o,j as e,n as c,B as g}from"./index-DRR2ciDs.js";import{C as j,a as v,b as N,c as C,d as P,e as S}from"./ContractWorkscope-CQXnVUha.js";import{S as A}from"./Separator-C5vIcpzW.js";import{B as I}from"./Back-D9ukjQ2Z.js";import"./Input-B6_56Pay.js";import"./RadioGroup-B9-TZJ69.js";const T=()=>{var l,d,x,m,p;const{contractId:h}=y(),{authUser:n,authSwrFetcher:r}=b.useContext(w),{data:t}=o(`/contract/view?id=${h}`,r),{data:a}=o(t?`/job/view?id=${t.jobId}`:null,r),{data:s}=o(t?`/screenwriter/view?id=${t.screenwriterId}`:null,r),{data:i}=o(t!=null&&t.contractFileId?`/file/get?id=${t.contractFileId}`:null,r),u=n==null?void 0:n.isScreenwriter;return!t||!a||!n||!s?e.jsx(e.Fragment,{}):e.jsxs("div",{className:"flex max-w-2xl flex-col justify-center",children:[e.jsx(I,{}),e.jsxs("h1",{className:"text-center font-sans text-xl font-bold md:text-left md:text-3xl",children:[t.status==="pending screenwriter review"&&"合約正等待乙方審核",t.status==="in-force"&&"正式合約",t.status==="rejected by screenwriter"&&"乙方已拒絕簽約"]}),e.jsxs("p",{className:"mt-4",children:[t.status==="pending screenwriter review"&&`合約在${t.createdAt&&c(t.createdAt)}送出，乙方有5天時間回覆。`,t.status==="in-force"&&`合約於${t.updatedAt&&c(t.updatedAt)}生效。`,t.status==="rejected by screenwriter"&&`乙方於${t.updatedAt&&c(t.updatedAt)}拒絕簽署合約，此合作已被取消。`]}),e.jsx(A,{}),i?e.jsx(g,{text:"下載合約",onClick:f=>{f.preventDefault(),window.open(i,"_blank")}}):e.jsxs("div",{className:"flex max-w-lg flex-col gap-y-16",children:[e.jsxs("section",{className:"leading-8",children:[e.jsx("h2",{className:"text-xl font-bold",children:"委託方／受託方資料"}),e.jsx(j,{title:"委託方",name:(l=a.company)==null?void 0:l.name,contactPerson:(d=a.company)==null?void 0:d.contactPerson,phone:(x=a.company)==null?void 0:x.phone,br:(m=a.company)==null?void 0:m.br,partyType:"甲方"}),e.jsx(j,{title:"受託方",name:s==null?void 0:s.name,contactPerson:s==null?void 0:s.contactPerson,phone:(p=s==null?void 0:s.user)==null?void 0:p.mobile,br:s==null?void 0:s.br,partyType:"乙方"})]}),e.jsxs("section",{className:"leading-8",children:[e.jsx("h2",{className:"text-xl font-bold",children:"合約目的"}),e.jsx(v,{mode:"view",copyrightOwner:t.copyrightOwner})]}),e.jsxs("section",{className:"leading-8",children:[e.jsx("h2",{className:"text-xl font-bold",children:"工作內容及要求"}),e.jsx(N,{})]}),e.jsxs("section",{className:"leading-8",children:[e.jsx("h2",{className:"text-xl font-bold",children:"工作成果、進度及交付要求"}),e.jsx(C,{mode:"view",prototypeRequirements:t.prototypeRequirements})]}),e.jsxs("section",{className:"leading-8",children:[e.jsx("h2",{className:"text-xl font-bold",children:"服務費及支付"}),e.jsx(P,{mode:t.status==="pending screenwriter review"&&!u?"investor-pending-screenwriter-review":"view",paymentSchedules:t.paymentSchedules,receipientBankInfo:t.receipientBankInfo})]}),e.jsxs("section",{className:"leading-8",children:[e.jsx("h2",{className:"text-xl font-bold",children:"權利和義務"}),e.jsx(S,{})]})]})]})};export{T as default};
