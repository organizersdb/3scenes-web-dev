import{r as m,f,g as h,j as e,B as x,M as N,x as g}from"./index-DRR2ciDs.js";import{A as v}from"./Avatar-DzGO4EEC.js";import{S as u}from"./Separator-C5vIcpzW.js";import{S as b}from"./SceneCard-CIrGpZac.js";const p=({jobId:t,screenwriterId:n,className:l})=>{const[c,a]=m.useState(!1),{createContract:o}=m.useContext(f),i=h(),r=async()=>{const s=await o({jobId:t,screenwriterId:n,status:"draft"});s.id&&i(`/contract/${s.id}/investor/edit`)};return e.jsxs(e.Fragment,{children:[e.jsx(x,{className:l||"border-indigo bg-indigo text-white",text:"開始合作",onClick:s=>{s==null||s.stopPropagation(),a(!0)}}),e.jsx(N,{isOpen:c,onClose:()=>a(!1),children:e.jsxs("div",{className:"mx-auto flex flex-col items-center gap-y-2 py-10 text-center",children:[e.jsx("div",{className:"font-serif text-3xl font-bold",children:"你確定要開始合作嗎？"}),e.jsx("div",{className:"font-light",children:"請於14天內完成草擬合約，否則合作會被取消"}),e.jsxs("div",{className:"flex gap-x-3",children:[e.jsx(x,{text:"返回",type:"button",onClick:()=>a(!1)}),e.jsx(x,{className:"border-indigo bg-indigo text-white",text:"草擬合約",type:"button",onClick:r})]})]})})]})},I=({proposal:t,script:n,isScreenwriter:l})=>{var r,s;const{tagline:c,logline:a,outline:o,scenes:i}=n;return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"flex flex-wrap justify-between",children:[e.jsxs("div",{className:"flex items-baseline gap-x-4",children:[e.jsx(v,{name:(r=t.screenwriter)==null?void 0:r.name,img:(s=t.screenwriter)==null?void 0:s.avatar}),e.jsxs("div",{className:"font-bold",children:["薪金要求 ",g(t.offer||0)]})]}),!l&&e.jsx("div",{className:"flex gap-x-4",children:e.jsx(p,{jobId:t.jobId,screenwriterId:t.screenwriterId})})]}),e.jsxs("section",{className:"mt-8",children:[e.jsx("h2",{className:"border-b border-black py-2 font-serif text-3xl",children:n.title}),e.jsxs("div",{className:"font-serif",children:[e.jsx("div",{className:"mt-8",children:"宣傳標語"}),e.jsx("div",{className:"mt-2 text-xl",children:c}),e.jsx("div",{className:"mt-8",children:"故事梗概"}),e.jsx("div",{className:"mt-2 text-xl",children:a}),e.jsx(u,{}),e.jsx("div",{className:"mt-8",children:"三場戲"}),e.jsx("div",{className:"mt-2 text-xl",children:o})]}),e.jsx("section",{className:"mt-8",children:i==null?void 0:i.map((d,j)=>{if(d)return e.jsx("div",{children:e.jsx(b,{scene:d,size:"medium"})},j)})})]})]})};export{I as P,p as S};
