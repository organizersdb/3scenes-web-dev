import{j as s,o as l,P as o,p as c,q as x,s as h,v as d,C as j,r as p,A as m,a as C,w as g}from"./index-DRR2ciDs.js";import{P as f}from"./ProposalContent-DUzlgRCN.js";const u=({isOpen:e,onClose:i,children:t,title:r})=>s.jsx(l,{open:e,onOpenChange:i,children:s.jsxs(o,{children:[s.jsx(c,{className:"fixed inset-0 bg-black bg-opacity-40"}),s.jsxs(x,{className:"fixed right-0 top-0 z-20 flex h-screen w-9/12 flex-col gap-y-8 overflow-y-auto bg-white p-16 text-black transition-transform",onClick:a=>a.stopPropagation(),children:[s.jsx(h,{className:"sr-only",children:r}),s.jsx(d,{asChild:!0,children:s.jsx("button",{className:"fixed right-2 top-2 p-2",children:s.jsx(j,{pathClassName:"fill-black"})})}),t]})]})});function w(){return s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("mask",{id:"mask0_3400_1815",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:s.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),s.jsx("g",{mask:"url(#mask0_3400_1815)",children:s.jsx("path",{d:"M9.525 12.2385L4 6.71348V10.6154H3V5H8.61538V6H4.68848L10.2385 11.525L9.525 12.2385ZM4.61538 19C4.15513 19 3.77083 18.8458 3.4625 18.5375C3.15417 18.2292 3 17.8449 3 17.3846V13H4V17.3846C4 17.5641 4.05769 17.7115 4.17308 17.8269C4.28846 17.9423 4.43589 18 4.61538 18H11.7692V19H4.61538ZM20 12.7692V6.61537C20 6.43589 19.9423 6.28846 19.8269 6.17307C19.7115 6.05769 19.5641 6 19.3846 6H11V5H19.3846C19.8449 5 20.2292 5.15417 20.5375 5.4625C20.8458 5.77083 21 6.15512 21 6.61537V12.7692H20ZM21 15.1538V19H14.1538V15.1538H21Z",fill:"black"})})]})}const V=({proposal:e,onClose:i})=>{const{authUser:t,authSwrFetcher:r}=p.useContext(m),{data:a}=C(e?`/script/view?id=${e.scriptId}`:null,r),n=t==null?void 0:t.isScreenwriter;return!e||!a?s.jsx(s.Fragment,{}):s.jsxs(u,{isOpen:!!e.scriptId,onClose:i,children:[s.jsx(g,{className:"relative -left-6 -top-6",to:`/proposal/${e.id}`,target:"_blank",children:s.jsx(w,{})}),s.jsx(f,{proposal:e,script:a,isScreenwriter:n})]})};export{V as P};
